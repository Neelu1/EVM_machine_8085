ORG 2000H             ;STORING THE CANDIDATE AND COUNTER DATA
MVI A,20H
STA 1020H
MVI A,10H
STA 1022H
MVI A,08H
STA 1024H
MVI A,04H
STA 1026H
MVI A,02H
STA 1028H
MVI A,01H
STA 102AH
MVI H,00H
MVI L,00H
SHLD 1030H 
MVI H,00H
MVI L,00H
SHLD 1032H 
MVI H,00H
MVI L,00H
SHLD 1034H  
MVI H,00H
MVI L,00H
SHLD 1036H  
MVI H,00H
MVI L,00H
SHLD 1038H  
MVI H,00H
MVI L,00H
SHLD 103AH 
LOOP:MVI D,01H     ;INPUT FOR THE ELECTION OFFICER
IN 01H
CMP D
JZ START
JNZ OVER
START:IN 02H       ;INPUT FOR THE VOTERS
MVI D,00H
CMP D
JZ START
JNZ LABEL
LABEL:MOV E,A
MVI H,10H
MVI L,20H
MOV A,M
CMP E
LDA 1030H
MOV L,A
LDA 1031H
MOV H,A
CZ INCR
SHLD 1030H       ;STORE THE INCREASED VALUES AGAIN IN 1030 AND 1031
MVI H,10H
MVI L,22H
MOV A,M
CMP E
LDA 1032H
MOV L,A
LDA 1033H
MOV H,A
CZ INCR
SHLD 1032H      ;STORE THE INCREASED VALUES AGAIN IN 1032 AND 1033
MVI H,10H
MVI L,24H
MOV A,M
CMP E
LDA 1034H
MOV L,A
LDA 1035H
MOV H,A
CZ INCR
SHLD 1034H
MVI H,10H
MVI L,26H
MOV A,M
CMP E
LDA 1036H
MOV L,A
LDA 1037H
MOV H,A
CZ INCR
SHLD 1036H
MVI H,10H
MVI L,28H
MOV A,M
CMP E
LDA 1038H
MOV L,A
LDA 1039H
MOV H,A
CZ INCR
SHLD 1038H
MVI H,10H
MVI L,2AH
MOV A,M
CMP E
LDA 103AH
MOV L,A
LDA 103BH
MOV H,A
CZ INCR
SHLD 103AH
JMP LOOP
HLT
INCR:MVI B,00H    ;ADD 0001 TO COUNTER WITH DECIMAL ADJUSTMENT
MVI C,01H
DAD B
MOV A,H
DAA
MOV H,A
MOV A,L
DAA
MOV L,A
RET
OVER:MVI D,02H    ;INPUT FOR CLOSING THE ELECTION PROCESS
CMP D
CZ CLOSE
CNZ LOOP
CLOSE:IN 03H      ;INPUT FOR THE COUNTING OFFICER
MVI D,03H
CMP D
CNZ CLOSE
CZ NEW
NEW:IN 04H       ;FOR DISPLAYING THE CANDIDATE'S COUNTER AT PORT 05 
MOV E,A
MVI A,00H
CMP E
JZ NEW
MVI A,09H
CMP E
CZ HALT
MVI A,01H
CMP E
MVI H,10H
MVI L,30H
CZ DISPLAY1
MVI H,10H
MVI L,31H
CZ DISPLAY2
MVI A,02H
CMP E
MVI H,10H
MVI L,32H
CZ DISPLAY1
MVI H,10H
MVI L,33H
CZ DISPLAY2
MVI A,03H
CMP E
MVI H,10H
MVI L,34H
CZ DISPLAY1
MVI H,10H
MVI L,35H
CZ DISPLAY2
MVI A,04H
CMP E
MVI H,10H
MVI L,36H
CZ DISPLAY1
MVI H,10H
MVI L,37H
CZ DISPLAY2
MVI A,05H
CMP E
MVI H,10H
MVI L,38H
CZ DISPLAY1
MVI H,10H
MVI L,39H
CZ DISPLAY2
MVI A,06H
CMP E
MVI H,10H
MVI L,3AH
CZ DISPLAY1
MVI H,10H
MVI L,3BH
CZ DISPLAY2
DISPLAY1:MOV A,M
OUT 07H
RET
DISPLAY2:MOV A,M
OUT 08H
JMP NEW
HALT:HLT


