ORG 2000H             ;STORING THE CANDIDATE AND COUNTER DATA
MVI A,20H
STA 00H
MVI A,10H
STA 01H
MVI A,08H
STA 02H
MVI A,04H
STA 03H
MVI A,02H
STA 04H
MVI A,01H
STA 05H
MVI H,00H
MVI L,00H
SHLD 06H 
MVI H,00H
MVI L,00H
SHLD 08H 
MVI H,00H
MVI L,00H
SHLD 0AH  
MVI H,00H
MVI L,00H
SHLD 0CH  
MVI H,00H
MVI L,00H
SHLD 0EH  
MVI H,00H
MVI L,00H
SHLD 10H 
MVI H,00H    ;FOR THE TOTAL NUMBER OF VOTES
MVI L,00H
SHLD 12H     ;STORED AT 12H AND 13H
LOOP:MVI D,01H     ;INPUT FOR THE ELECTION OFFICER
IN 01H
CMP D
JZ START
JNZ OVER
START:IN 02H       ;INPUT FOR THE VOTERS
MVI D,00H
CMP D
JZ START
JNZ LABEL
LABEL:MOV E,A
MVI H,00H
MVI L,00H
MOV A,M
CMP E
LDA 06H
MOV L,A
LDA 07H
MOV H,A
CZ INCR
SHLD 06H       ;STORE THE INCREASED VALUES AGAIN IN 1030 AND 1031
MVI H,00H
MVI L,01H
MOV A,M
CMP E
LDA 08H
MOV L,A
LDA 09H
MOV H,A
CZ INCR
SHLD 08HH      ;STORE THE INCREASED VALUES AGAIN IN 1032 AND 1033
MVI H,00H
MVI L,02H
MOV A,M
CMP E
LDA 0AH
MOV L,A
LDA 0BH
MOV H,A
CZ INCR
SHLD 0AH
MVI H,00H
MVI L,03H
MOV A,M
CMP E
LDA 0CH
MOV L,A
LDA 0DH
MOV H,A
CZ INCR
SHLD 0CH
MVI H,00H
MVI L,04H
MOV A,M
CMP E
LDA 0EH
MOV L,A
LDA 0FH
MOV H,A
CZ INCR
SHLD 0EH
MVI H,00H
MVI L,05H
MOV A,M
CMP E
LDA 10H
MOV L,A
LDA 11H
MOV H,A
CZ INCR
SHLD 10H
JMP TOT
JMP LOOP
HLT
TOT:LHLD 0012H     ;FOR THE TOTAL NUMBER OF VOTES
LXI B,0001H
DAD B
MOV A,H             ;FOR DECIMAL ADJUSTMENT
DAA
MOV H,A
MOV A,L
DAA
MOV L,A
SHLD 0012H       ;STORING BACK TO 12H AND 13H
MVI H,00H
MVI L,12H
CALL DISPLAY1
MVI H,00H
MVI L,13H
CALL DISPLAY2
RET
INCR:MVI B,01H    ;ADD 0001 TO COUNTER WITH DECIMAL ADJUSTMENT
MVI C,01H
DAD B
MOV A,H
DAA
MOV H,A
MOV A,L
DAA
MOV L,A
RET
OVER:MVI D,02H    ;INPUT FOR CLOSING THE ELECTION PROCESS
CMP D
CZ CLOSE
CNZ LOOP
CLOSE:IN 03H      ;INPUT FOR THE COUNTING OFFICER
MVI D,03H
CMP D
CNZ CLOSE
CZ NEW
NEW:IN 01H       ;FOR DISPLAYING THE CANDIDATE'S COUTER
MOV E,A
MVI A,00H
CMP E
JZ NEW
MVI A,09H
CMP E
CZ HALT
MVI A,20H
CMP E
MVI H,00H
MVI L,06H
CZ DISPLAY1
MVI H,00H
MVI L,07H
CZ DISPLAY2
MVI A,10H
CMP E
MVI H,00H
MVI L,08H
CZ DISPLAY1
MVI H,00H
MVI L,09H
CZ DISPLAY2
MVI A,08H
CMP E
MVI H,00H
MVI L,0AH
CZ DISPLAY1
MVI H,00H
MVI L,0BH
CZ DISPLAY2
MVI A,04H
CMP E
MVI H,00H
MVI L,0CH
CZ DISPLAY1
MVI H,00H
MVI L,0DH
CZ DISPLAY2
MVI A,02H
CMP E
MVI H,00H
MVI L,0EH
CZ DISPLAY1
MVI H,00H
MVI L,0FH
CZ DISPLAY2
MVI A,01H
CMP E
MVI H,00H
MVI L,10H
CZ DISPLAY1
MVI H,00H
MVI L,11H
CZ DISPLAY2
DISPLAY1:MOV A,M
OUT 07H
RET
DISPLAY2:MOV A,M
OUT 08H
JMP NEW
HALT:HLT


